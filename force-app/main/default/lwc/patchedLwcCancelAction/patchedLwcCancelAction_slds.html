<template>
  <slot>

    <vlocity_cmt-navigate-action  data-patched-navigate-action
                                  target-type={patchedTargetType}
                                  target-params={patchedTargetParams}
                                  replace={patchedReplace}></vlocity_cmt-navigate-action>

    <vlocity_cmt-navigate-action data-navigate-action
                       if:true={isActionValid}
                       target-type={targetType}
                       target-name={targetName}
                       target-id={targetId}
                       target-article-type={_propSetMap.targetArticleType}
                       target-relationship={_propSetMap.targetRelationshipName}
                       target-params={targetParams}
                       target-action={targetAction}
                       use-href={_isLink}
                       replace={_propSetMap.replace}>

      <div class="slds-p-top_xx-small slds-is-relative"
           if:true={_isBtn}>
        <vlocity_cmt-button if:false={_isLink}
                  theme={_theme}
                  extraclass={extraclass}
                  label={_propSetMap.label}
                  title={_propSetMap.buttonTitle}
                  icon-position={_propSetMap.iconPosition}
                  icon-name={_propSetMap.iconName}
                  variant={_propSetMap.variant}></vlocity_cmt-button>

        <template if:true={_isLink}>
          {_propSetMap.label}
        </template>
      </div>
    </vlocity_cmt-navigate-action>

    <template if:false={isActionValid}>
      <div class="slds-p-top_xx-small slds-is-relative"
           onclick={showErrorModal}
           if:true={_isBtn}>
        <vlocity_cmt-button if:false={_isLink}
                  theme={_theme}
                  extraclass={extraclass}
                  label={_propSetMap.label}
                  title={_propSetMap.buttonTitle}
                  icon-position={_propSetMap.iconPosition}
                  icon-name={_propSetMap.iconName}
                  variant={_propSetMap.variant}></vlocity_cmt-button>

        <template if:true={_isLink}>
          {_propSetMap.label}
        </template>
      </div>
    </template>

    <template if:true={isPageLoading}>
      <vlocity_cmt-spinner variant="brand"
                 alternative-text="Loading..."
                 theme={_theme}
                 size="medium">
      </vlocity_cmt-spinner>
    </template>
  </slot>
</template>