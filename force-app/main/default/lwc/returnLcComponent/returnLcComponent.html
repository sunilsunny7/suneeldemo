<!--
 - Created by uly8476 on 2021-09-14.
 -->
<template>
    <lightning-quick-action-panel header="Return to Leadscentralen">
        <div class="slds-is-relative">
            <lightning-spinner if:true={isLoading}></lightning-spinner>
        </div>
        <lightning-record-edit-form if:true={recordId} object-api-name={leadObjectInfo.objectApiName}
                                    record-id={recordId} onload={handleOnLoad} onsuccess={handleOnSuccess}
                                    onerror={handleOnError}>
            <div class="slds-hide">
                <lightning-input-field field-name={leadObjectInfo.leadStatusFieldApiName}
                                       value="Returnerad"></lightning-input-field>
            </div>
            <lightning-input-field field-name={leadObjectInfo.closeReasonFieldApiName}
                                   onchange={handleCloseReasonChange}></lightning-input-field>
            <lightning-input-field if:true={showOtherReasonField}
                                   field-name={leadObjectInfo.otherReasonFieldApiName}></lightning-input-field>
        </lightning-record-edit-form>
        <div slot="footer">
            <lightning-button variant="neutral" label="Cancel" onclick={closeQuickAction}></lightning-button>
            <lightning-button variant="brand" label="Save" onclick={saveRecord}
                              class="slds-m-left_x-small"></lightning-button>
        </div>
    </lightning-quick-action-panel>
</template>